import{u as ae,i as G,r as y,S as H,j as e,f}from"./index-CeVDEEei.js";import{G as W}from"./iconBase-DoKym2qq.js";import{p as se,q as ne,s as le,t as oe,g as ie,S as ce,d as de,a as me}from"./Layout-CcMNNaZ4.js";import{s as ue}from"./spinner-CkndCogW.js";import{P as J}from"./ProductServices-Du5OybLf.js";import{T as $,D as pe,M as fe}from"./DrawerButton-DmwH5vsU.js";import{D as xe}from"./DeleteModal-C2V44Xok.js";import{u as he}from"./useToggleDrawer-CzZxNYTz.js";import{T as ge}from"./Tooltip-Dkk_fvLX.js";import{u as be,E as O}from"./index.esm-BcFVggIo.js";import{I as A}from"./InputArea-B4G6HLhq.js";import{L as F}from"./LabelArea-B-7rwQwm.js";import{b as P,u as je}from"./useFilter-Bo7z1Qkl.js";import{a as X,n as ve}from"./toast-C-sk6pTy.js";import{T as ye}from"./TableLoading-DQOqV_DZ.js";import{N as Ne}from"./NotFound-DqH5GUVC.js";import{P as we}from"./PageTitle-BNFwlyPJ.js";import{u as Ce}from"./useAsync-BXK40Pcd.js";import{A as Se}from"./AnimatedContent-DFcCCmNs.js";import"./index-rlwwEboC.js";import"./SelectLanguageTwo-CNfN2jle.js";import"./AdminServices-DuO9aYE5.js";import"./CouponServices-BoIMl-hX.js";import"./CurrencyServices-_K0iNOM8.js";import"./useDisableForDemo-CHynow2B.js";function C(t){return Object.prototype.toString.call(t)==="[object Array]"}function R(t,s){if(!t)throw new Error(s)}function Y(t){return Object.keys(t)}function k(t){return Object.keys(t).map(function(s){return[s,t[s]]})}function T(t,s,a){var r="."+s,n=new RegExp("(\\".concat(s,")?$"));return a(t).replace(n,r)}function Te(t){return t.replace(/[^_a-zA-Z 0-9:\-\.]/g,"").replace(/^([ 0-9-:\-\.]|(xml))+/i,"").replace(/ +/g,"-")}function Ee(t){return Array(t+1).join(" ")}function Le(t){return t.replace(/([<>&])/g,function(s,a){switch(a){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return""}})}function ke(t,s,a){switch(s){case"txt":{var r="text/plain;charset=utf-8";return a?URL.createObjectURL(new Blob([t],{type:r})):"data:,".concat(r)+encodeURIComponent(t)}case"css":{var r="text/css;charset=utf-8";return a?URL.createObjectURL(new Blob([t],{type:r})):"data:,".concat(r)+encodeURIComponent(t)}case"html":{var r="text/html;charset=utf-8";return a?URL.createObjectURL(new Blob([t],{type:r})):"data:,".concat(r)+encodeURIComponent(t)}case"json":{var r="text/json;charset=utf-8";return a?URL.createObjectURL(new Blob([t],{type:r})):"data:,".concat(r)+encodeURIComponent(t)}case"csv":{var r="text/csv;charset=utf-8";return a?URL.createObjectURL(new Blob([t],{type:r})):"data:,".concat(r)+encodeURIComponent(t)}case"xls":{var r="text/application/vnd.ms-excel;charset=utf-8";return a?URL.createObjectURL(new Blob([t],{type:r})):"data:,".concat(r)+encodeURIComponent(t)}case"xml":{var r="text/application/xml;charset=utf-8";return a?URL.createObjectURL(new Blob([t],{type:r})):"data:,".concat(r)+encodeURIComponent(t)}default:return""}}function q(t,s,a,r){a===void 0&&(a="download"),r===void 0&&(r=!0);var n=ke(t,s,r),o=document.createElement("a");o.href=n,o.download=a,o.setAttribute("style","visibility:hidden"),document.body.appendChild(o),o.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!1,view:window})),document.body.removeChild(o)}var w=function(){return w=Object.assign||function(t){for(var s,a=1,r=arguments.length;a<r;a++){s=arguments[a];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}return t},w.apply(this,arguments)},I=function(t,s){var a=typeof Symbol=="function"&&t[Symbol.iterator];if(!a)return t;var r=a.call(t),n,o=[],d;try{for(;(s===void 0||s-- >0)&&!(n=r.next()).done;)o.push(n.value)}catch(m){d={error:m}}finally{try{n&&!n.done&&(a=r.return)&&a.call(r)}finally{if(d)throw d.error}}return o};function Ie(t){if(!t||C(t)&&!t.length||!C(t)&&!Y(t).length)return function(a){return a};var s=C(t)?t.reduce(function(a,r){var n;return w(w({},a),(n={},n[r]=r,n))},Object.create(null)):t;return function(a){return C(a)?a.map(function(r){return k(r).reduce(function(n,o){var d=I(o,2),m=d[0],i=d[1];return m in s&&(n[s[m]]=i),n},Object.create(null))}).filter(function(r){return Y(r).length}):k(a).reduce(function(r,n){var o=I(n,2),d=o[0],m=o[1];return d in s&&(r[s[d]]=m),r},Object.create(null))}}function De(t){var s="Invalid export data. Please provide a valid JSON";try{return typeof t=="string"?JSON.parse(t):t}catch{throw new Error(s)}}function _e(t,s,a){s===void 0&&(s=null);var r="Invalid export data. Please provide valid JSON object";try{return JSON.stringify(t,s,a)}catch{throw new Error(r)}}function K(t){return t.map(k).reduce(function(s,a,r){return a.reduce(function(n,o){var d=I(o,2),m=d[0],i=d[1],l=n[m]||Array.from({length:t.length}).map(function(u){return""});return l[r]=(typeof i!="string"?JSON.stringify(i):i)||"",n[m]=l,n},s)},Object.create(null))}function Z(t,s){return s===void 0&&(s=function(a){return a}),s(k(t).map(function(a){var r=I(a,2),n=r[0],o=r[1];return{fieldName:n,fieldValues:o}}))}function Oe(t){var s=/,|"|\n/.test(t)?'"':"",a=t.replace(/"/g,'""');return"".concat(s).concat(a).concat(s)}var Ae={beforeTableEncode:function(t){return t},delimiter:","};function Fe(t,s){s===void 0&&(s={});var a=w(w({},Ae),s),r=a.beforeTableEncode,n=a.delimiter;if(!t.length)return"";var o=K(t),d=Z(o,r),m=d.map(function(u){var p=u.fieldName;return p}).join(n)+`\r
`,i=d.map(function(u){var p=u.fieldValues;return p}).map(function(u){return u.map(Oe)}),l=i.reduce(function(u,p){return u.map(function(h,v){return"".concat(h).concat(n).concat(p[v])})});return m+l.join(`\r
`)}function Pe(t,s){R(t.length>0);var a=K(t),r=Z(a,s),n=r.map(function(m){var i=m.fieldName;return i}).join("</b></th><th><b>"),o=r.map(function(m){var i=m.fieldValues;return i}).map(function(m){return m.map(function(i){return"<td>".concat(i,"</td>")})}),d=o.reduce(function(m,i){return m.map(function(l,u){return"".concat(l).concat(i[u])})});return`
    <table>
      <thead>
        <tr><th><b>`.concat(n,`</b></th></tr>
      </thead>
      <tbody>
        <tr>`).concat(d.join(`</tr>
        <tr>`),`</tr>
      </tbody>
    </table>
  `)}var Ue={beforeTableEncode:function(t){return t}};function Me(t,s){var a=w(w({},Ue),s).beforeTableEncode;if(!t.length)return"";var r=`<html>
  <head>
    <meta charset="UTF-8" />
  </head >
  <body>
    `.concat(Pe(t,a),`
  </body>
</html >
`);return r}function Re(t){var s=`<?xml version="1.0" encoding="utf-8"?><!DOCTYPE base>
`.concat(V(t,"base"),`
`);return s}function V(t,s,a,r){a===void 0&&(a="element"),r===void 0&&(r=0);var n=Te(s),o=Ee(r);if(t==null)return"".concat(o,"<").concat(n," />");var d=C(t)?t.map(function(i){return V(i,a,a,r+2)}).join(`
`):typeof t=="object"?k(t).map(function(i){var l=I(i,2),u=l[0],p=l[1];return V(p,u,a,r+2)}).join(`
`):o+"  "+Le(String(t)),m="".concat(o,"<").concat(n,`>
`).concat(d,`
`).concat(o,"</").concat(n,">");return m}var Ve={txt:"txt",css:"css",html:"html",json:"json",csv:"csv",xls:"xls",xml:"xml"};function j(t){var s=t.data,a=t.fileName,r=a===void 0?"download":a,n=t.extension,o=t.fileNameFormatter,d=o===void 0?function(M){return M.replace(/\s+/,"_")}:o,m=t.fields,i=t.exportType,l=i===void 0?"txt":i,u=t.replacer,p=u===void 0?null:u,h=t.space,v=h===void 0?4:h,x=t.processor,g=x===void 0?q:x,c=t.withBOM,b=c===void 0?!1:c,D=t.beforeTableEncode,_=D===void 0?function(M){return M}:D,N=t.delimiter,U=N===void 0?",":N,E="Invalid export data. Please provide an array of objects",Q="Can't export unknown data type ".concat(l,"."),ee="Can't export string data to ".concat(l,".");if(typeof s=="string")switch(l){case"txt":case"css":case"html":return g(s,l,T(r,n??l,d));default:throw new Error(ee)}var te=Ie(m),S=te(De(s)),B=_e(S,p,v);switch(l){case"txt":case"css":case"html":return g(B,l,T(r,n??l,d));case"json":return g(B,l,T(r,n??"json",d));case"csv":{R(C(S),E);var re="\uFEFF",z=Fe(S,{beforeTableEncode:_,delimiter:U}),L=b?re+z:z;return g(L,l,T(r,n??"csv",d))}case"xls":{R(C(S),E);var L=Me(S,{beforeTableEncode:_});return g(L,l,T(r,n??"xls",d))}case"xml":{var L=Re(S);return g(L,l,T(r,n??"xml",d))}default:throw new Error(Q)}}j.types=Ve;j.processors={downloadFile:q};function Be(t){return W({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"}},{tag:"path",attr:{d:"M8.646 6.646a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L10.293 9 8.646 7.354a.5.5 0 0 1 0-.708zm-1.292 0a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0 0 .708l2 2a.5.5 0 0 0 .708-.708L5.707 9l1.647-1.646a.5.5 0 0 0 0-.708z"}}]})(t)}function ze(t){return W({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M7.5 5.5a.5.5 0 0 0-1 0v.634l-.549-.317a.5.5 0 1 0-.5.866L6 7l-.549.317a.5.5 0 1 0 .5.866l.549-.317V8.5a.5.5 0 1 0 1 0v-.634l.549.317a.5.5 0 1 0 .5-.866L8 7l.549-.317a.5.5 0 1 0-.5-.866l-.549.317V5.5zm-2 4.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5zm0 2a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5z"}},{tag:"path",attr:{d:"M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2zM9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"}}]})(t)}const Je=({title:t,totalDoc:s,filename:a,exportData:r,isDisabled:n,handleSelectFile:o,handleRemoveSelectFile:d,handleUploadMultiple:m})=>{const i=ae(),{t:l}=G(),u=y.useRef(),[p,h]=y.useState(!1),[v,x]=y.useState(!1),{loading:g}=y.useContext(H),[c,b]=y.useState({name:"",status:!1}),D=()=>{i.pathname==="/products"&&(b({name:"csv",status:!0}),J.getAllProducts({page:1,limit:s,category:null,title:null,price:0}).then(N=>{h(!1),b({name:"",status:!1}),j({data:N.products,fileName:"products",exportType:j.types.csv})}).catch(N=>{b({name:"",status:!1}),h(!1)})),i.pathname==="/categories"&&j({data:r,fileName:"categories",exportType:j.types.csv}),i.pathname==="/attributes"&&j({data:r,fileName:"attributes",exportType:j.types.csv}),i.pathname==="/coupons"&&j({data:r,fileName:"coupons",exportType:j.types.csv}),i.pathname==="/customers"&&j({data:r,fileName:"customers",exportType:j.types.csv})},_=()=>{i.pathname==="/products"&&(b({name:"json",status:!0}),J.getAllProducts({page:1,limit:s,category:null,title:null,price:0}).then(N=>{h(!1),b({name:"json",status:!0}),j({data:N.products,fileName:"products",exportType:j.types.json})}).catch(N=>{h(!1),b({name:"json",status:!0})})),i.pathname==="/categories"&&j({data:r,fileName:"categories",exportType:j.types.json}),i.pathname==="/attributes"&&j({data:r,fileName:"attributes",exportType:j.types.json}),i.pathname==="/coupons"&&j({data:r,fileName:"coupons",exportType:j.types.json}),i.pathname==="/customers"&&j({data:r,fileName:"customers",exportType:j.types.json})};return y.useEffect(()=>{const N=U=>{var E;(E=u==null?void 0:u.current)!=null&&E.contains(U.target)||h(!1)};document.addEventListener("mousedown",N)},[u]),e.jsxs("div",{className:" lg:flex md:flex flex-grow-0",children:[e.jsxs("div",{className:"flex",children:[e.jsxs("div",{ref:u,className:"lg:flex-1 md:flex-1 mr-3 sm:flex-none",children:[(t==="Products"||t==="Attribute"||t==="Extra"||t==="Coupon"||t==="Customers"||t==="Categories")&&e.jsxs("button",{onClick:()=>{h(!p)},className:"border flex justify-center items-center border-gray-300 hover:border-emerald-400 hover:text-emerald-400  dark:text-gray-300 cursor-pointer h-10 w-20 rounded-md focus:outline-none",children:[e.jsx(se,{className:"mr-2"}),e.jsx("span",{className:"text-xs",children:l("Export")})]}),p&&e.jsxs("ul",{className:"origin-top-left absolute  w-56 rounded-md shadow-lg bg-white dark:bg-gray-800 focus:outline-none z-40",style:{},children:[e.jsx("li",{className:"justify-between font-serif font-medium py-2 pl-4 transition-colors duration-150 hover:bg-gray-100 text-gray-500 hover:text-emerald-500 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-gray-200",children:e.jsx("button",{type:"button",onClick:D,className:"focus:outline-none",children:e.jsxs("span",{className:"flex items-center text-sm",children:[e.jsx(ze,{className:"w-4 h-4 mr-3","aria-hidden":"true"}),e.jsxs("span",{children:["Export to CSV",c.name==="csv"&&c.status&&"...."]})]})})}),e.jsx("li",{className:"justify-between font-serif font-medium py-2 pl-4 transition-colors duration-150 hover:bg-gray-100 text-gray-500 hover:text-emerald-500 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-gray-200",children:e.jsx("button",{type:"button",className:"focus:outline-none",onClick:_,children:e.jsxs("span",{className:"flex items-center text-sm",children:[e.jsx(Be,{className:"w-4 h-4 mr-3","aria-hidden":"true"}),e.jsxs("span",{children:["Export to JSON",c.name==="json"&&c.status&&"...."]})]})})})]})]}),e.jsx("div",{className:"lg:flex-1 md:flex-1 mr-3  sm:flex-none",children:e.jsxs("button",{onClick:()=>x(!v),className:"border flex justify-center items-center h-10 w-20 hover:text-yellow-400  border-gray-300 dark:text-gray-300 cursor-pointer  py-2 hover:border-yellow-400 rounded-md focus:outline-none",children:[e.jsx(ne,{className:"mr-2"}),e.jsx("span",{className:"text-xs",children:"Import"})]})})]}),v&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"w-full my-2 lg:my-0 md:my-0 flex",children:[e.jsx("div",{className:"h-10 border border-dashed border-emerald-500 rounded-md",children:e.jsxs("label",{className:"w-full rounded-lg h-10 flex justify-center items-center text-xs dark:text-gray-400 leading-none",children:[e.jsx(f.Input,{disabled:n,type:"file",accept:".csv,.xls,.json",onChange:o}),a||e.jsxs(e.Fragment,{children:[e.jsx(le,{className:"mx-2 text-emerald-500 text-lg dark:text-gray-400"})," ",l("SelectYourJSON")," ",t," ",l("File")]}),a&&e.jsx("span",{onClick:d,type:"button",className:"text-red-500 focus:outline-none mx-4 text-lg",children:e.jsx(oe,{})})]})}),e.jsx("div",{className:"flex",children:g?e.jsxs(f.Button,{className:"ml-2 h-10",children:[e.jsx("img",{src:ue,alt:"Loading",width:20,height:10})," ",e.jsx("span",{className:"font-serif ml-2 font-light",children:"Processing"})]}):e.jsxs(f.Button,{onClick:m,className:"h-10 ml-2 px-2",children:[e.jsx("span",{className:"",children:e.jsx(ie,{})}),e.jsx("span",{className:"text-sx w-20",children:l("ImportNow")})]})})]})})]})},$e=t=>{const[s,a]=y.useState(""),[r,n]=y.useState(!1),{closeDrawer:o,setIsUpdate:d}=y.useContext(H),{register:m,handleSubmit:i,setValue:l,formState:{errors:u}}=be(),p=async h=>{var v,x;try{n(!0);const g={name:h.name,email:h.email,phone:h.phone,address:h.address};if(t){const c=await P.updateCustomer(t,g);d(!0),ve(c.message),o()}n(!1)}catch(g){X(((x=(v=g==null?void 0:g.response)==null?void 0:v.data)==null?void 0:x.message)||(g==null?void 0:g.message)),o()}};return y.useEffect(()=>{t&&(async()=>{var h,v;try{const x=await P.getCustomerById(t);x&&(l("name",x.name),l("phone",x.phone),l("email",x.email),l("address",x.address))}catch(x){X(((v=(h=x==null?void 0:x.response)==null?void 0:h.data)==null?void 0:v.message)||(x==null?void 0:x.message))}})()},[t,l]),{register:m,handleSubmit:i,onSubmit:p,errors:u,setImageUrl:a,imageUrl:s,isSubmitting:r}},Xe=({id:t})=>{const{register:s,handleSubmit:a,onSubmit:r,errors:n,isSubmitting:o}=$e(t);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:t?e.jsx($,{title:"Update Customer",description:"Update your Customer necessary information from here"}):e.jsx($,{title:"Add Customer",description:"Add your Customer necessary information from here"})}),e.jsx(ce,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:e.jsxs("form",{onSubmit:a(r),children:[e.jsxs("div",{className:"px-6 pt-8 flex-grow scrollbar-hide w-full max-h-full pb-40",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(F,{label:"Name"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(A,{required:!0,register:s,label:"Name",name:"name",type:"text",placeholder:"Name"}),e.jsx(O,{errorName:n.name})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(F,{label:"Email"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(A,{required:!0,register:s,label:"Email",name:"email",type:"email",placeholder:"Email"}),e.jsx(O,{errorName:n.email})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(F,{label:"Phone"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(A,{register:s,label:"Phone",name:"phone",type:"text",placeholder:"Phone"}),e.jsx(O,{errorName:n.phone})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6",children:[e.jsx(F,{label:"Address"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(A,{register:s,label:"Address",name:"address",type:"text",placeholder:"Address"}),e.jsx(O,{errorName:n.address})]})]})]}),e.jsx(pe,{id:t,title:"Customer",isSubmitting:o})]})})]})},Ye=({open:t,onClose:s,id:a})=>{var u,p,h,v,x,g;const[r,n]=y.useState(null),[o,d]=y.useState(!1);if(y.useEffect(()=>{t&&(async()=>{if(t&&a){d(!0);try{const b=await P.getCustomerById(a);n(b)}catch(b){console.error("Error fetching customer data:",b)}finally{d(!1)}}})()},[t,a]),!t)return null;const m=c=>c?new Date(c).toLocaleDateString():"N/A",i=c=>c||"N/A",l=(c,b)=>b==null||b===""?null:e.jsxs("p",{className:"mb-2",children:[e.jsxs("span",{className:"font-semibold",children:[c,":"]})," ",b]});return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-40",onClick:s,children:e.jsxs("div",{className:"relative bg-gray-800 text-gray-400 p-8 pt-16 pr-16 rounded-lg shadow-lg w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto",onClick:c=>c.stopPropagation(),style:{overflowX:"hidden"},children:[e.jsx("button",{className:"absolute top-2 right-2 text-gray-400 hover:text-white text-3xl",onClick:s,children:"×"}),o?e.jsx("div",{className:"text-center py-8",children:"Loading..."}):r?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"border-b border-gray-700 pb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"User Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 break-words",children:[e.jsxs("div",{children:[l("Name",(u=r.user)==null?void 0:u.name),l("Email",(p=r.user)==null?void 0:p.email)]}),e.jsx("div",{children:l("Phone",(h=r.user)==null?void 0:h.phone)})]})]}),r.form&&e.jsxs("div",{className:"border-b border-gray-700 pb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Parent Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 break-words",children:[e.jsx("div",{children:r.form.parentDetails&&e.jsxs(e.Fragment,{children:[l("Father",`${r.form.parentDetails.fatherFirstName||""} ${r.form.parentDetails.fatherLastName||""}`.trim()||null),l("Mother",`${r.form.parentDetails.motherFirstName||""} ${r.form.parentDetails.motherLastName||""}`.trim()||null)]})}),e.jsx("div",{children:r.form.parentDetails&&e.jsxs(e.Fragment,{children:[l("Mobile",r.form.parentDetails.mobile),l("Email",r.form.parentDetails.email)]})}),e.jsx("div",{children:((v=r.form.parentDetails)==null?void 0:v.address)&&l("Address",r.form.parentDetails.address)})]})]}),((x=r.form)==null?void 0:x.subscriptionPlan)&&e.jsxs("div",{className:"border-b border-gray-700 pb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Subscription Plan"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 break-words",children:[e.jsxs("div",{children:[l("Plan ID",r.form.subscriptionPlan.planId),l("Start Date",m(r.form.subscriptionPlan.startDate))]}),e.jsxs("div",{children:[l("End Date",m(r.form.subscriptionPlan.endDate)),l("Working Days",r.form.subscriptionPlan.workingDays)]}),e.jsx("div",{children:l("Price",r.form.subscriptionPlan.price&&`₹${r.form.subscriptionPlan.price.toLocaleString()}`)})]})]}),((g=r.form)==null?void 0:g.children)&&r.form.children.length>0&&e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6",children:["Children (",r.form.children.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:r.form.children.map((c,b)=>e.jsxs("div",{className:"bg-gray-700 p-6 rounded-lg break-words",children:[e.jsxs("h3",{className:"font-bold text-xl text-white mb-4",children:[b+1,". ",c.childFirstName," ",c.childLastName]}),e.jsxs("div",{className:"space-y-2",children:[l("Date of Birth",m(c.dob)),l("Lunch Time",i(c.lunchTime)),l("Allergies",c.allergies||"None"),l("School",c.school),l("Location",c.location),l("Class",c.childClass&&`${c.childClass}${c.section?` - Section ${c.section}`:""}`)]})]},c._id))})]})]}):e.jsx("div",{className:"text-center py-8",children:"No customer data found."})]})})},Ge=({customers:t})=>{const{title:s,serviceId:a,handleModalOpen:r,handleUpdate:n}=he(),[o,d]=y.useState(!1),[m,i]=y.useState(null),l=p=>{i(p),d(!0)},u=()=>{d(!1),i(null)};return e.jsxs(e.Fragment,{children:[e.jsx(xe,{id:a,title:s}),e.jsx(fe,{children:e.jsx(Xe,{id:a})}),e.jsx(Ye,{open:o,onClose:u,id:m}),e.jsx(f.TableBody,{children:t==null?void 0:t.map(p=>e.jsxs(f.TableRow,{children:[e.jsx(f.TableCell,{children:e.jsx("span",{className:"text-sm",children:de(p.createdAt).format("MMM D, YYYY")})}),e.jsx(f.TableCell,{children:e.jsx("span",{className:"text-sm",children:p.name})}),e.jsxs(f.TableCell,{children:[e.jsx("span",{className:"text-sm",children:p.email})," "]}),e.jsx(f.TableCell,{children:e.jsx("span",{className:"text-sm font-medium",children:p.phone})}),e.jsx(f.TableCell,{children:e.jsx("div",{className:"flex justify-end text-right",children:e.jsx("span",{onClick:()=>l(p._id),children:e.jsx(ge,{id:`view-tooltip-${p._id}`,Icon:me,title:"View",bgColor:"#1e40af"})})})})]},p._id))})]})},jt=()=>{const{data:t,loading:s,error:a}=Ce(P.getAllCustomers),{userRef:r,dataTable:n,serviceData:o,filename:d,isDisabled:m,setSearchUser:i,totalResults:l,resultsPerPage:u,handleSubmitUser:p,handleSelectFile:h,handleChangePage:v,handleUploadMultiple:x,handleRemoveSelectFile:g}=je(t),{t:c}=G(),b=()=>{i(""),r.current.value=""};return e.jsxs(e.Fragment,{children:[e.jsx(we,{children:c("CustomersPage")}),e.jsxs(Se,{children:[e.jsx(f.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:e.jsx(f.CardBody,{children:e.jsx("form",{onSubmit:p,className:"py-3 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex",children:e.jsx("div",{className:"items-center",children:e.jsx(Je,{title:"Customers",exportData:t,filename:d,isDisabled:m,handleSelectFile:h,handleUploadMultiple:x,handleRemoveSelectFile:g})})})})}),e.jsx(f.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:e.jsx(f.CardBody,{children:e.jsxs("form",{onSubmit:p,className:"py-3 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex",children:[e.jsxs("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:[e.jsx(f.Input,{ref:r,type:"search",name:"search",placeholder:c("CustomersPageSearchPlaceholder")}),e.jsx("button",{type:"submit",className:"absolute right-0 top-0 mt-5 mr-1"})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:[e.jsx("div",{className:"w-full mx-1",children:e.jsx(f.Button,{type:"submit",className:"h-12 w-full bg-emerald-700",children:"Filter"})}),e.jsx("div",{className:"w-full mx-1",children:e.jsx(f.Button,{layout:"outline",onClick:b,type:"reset",className:"px-4 md:py-1 py-2 h-12 text-sm dark:bg-gray-700",children:e.jsx("span",{className:"text-black dark:text-gray-200",children:"Reset"})})})]})]})})})]}),s?e.jsx(ye,{row:12,col:6,width:190,height:20}):a?e.jsx("span",{className:"text-center mx-auto text-red-500",children:a}):(o==null?void 0:o.length)!==0?e.jsxs(f.TableContainer,{className:"mb-8",children:[e.jsxs(f.Table,{children:[e.jsx(f.TableHeader,{children:e.jsxs("tr",{children:[e.jsx(f.TableCell,{children:c("CustomersJoiningDate")}),e.jsx(f.TableCell,{children:c("CustomersName")}),e.jsx(f.TableCell,{children:c("CustomersEmail")}),e.jsx(f.TableCell,{children:c("CustomersPhone")}),e.jsx(f.TableCell,{className:"text-right",children:c("CustomersActions")})]})}),e.jsx(Ge,{customers:n})]}),e.jsx(f.TableFooter,{children:e.jsx(f.Pagination,{totalResults:l,resultsPerPage:u,onChange:v,label:"Table navigation"})})]}):e.jsx(Ne,{title:"Sorry, There are no customers right now."})]})};export{jt as default};
